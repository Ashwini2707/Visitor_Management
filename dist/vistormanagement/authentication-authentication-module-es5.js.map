{"version":3,"sources":["src/app/authentication/login/login.component.html","src/app/authentication/registration/registration.component.html","src/app/authentication/auth.service.ts","src/app/authentication/authentication-routing.module.ts","src/app/authentication/authentication.module.ts","src/app/authentication/login/login.component.css","src/app/authentication/login/login.component.ts","src/app/authentication/registration/registration.component.css","src/app/authentication/registration/registration.component.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<div class=\\\"container\\\"  >\\n    <div id=\\\"div\\\">\\n        <a routerLink=\\\"register\\\">New User!! Register Here</a><br><br>\\n        <div [formGroup]=\\\"loginForm\\\">\\n            <input type=\\\"text\\\" formControlName=\\\"phone\\\" placeholder=\\\"Phone\\\"><br><br>\\n            <input type=\\\"text\\\" formControlName=\\\"password\\\" placeholder=\\\"Password\\\"><br><br>\\n            <button class=\\\"btn btn-primary\\\" [disabled]=\\\"!loginForm.valid\\\" (click)=\\\"login()\\\">Login</button><br><br>\\n        </div>\\n    </div>\\n</div>\\n\"","export default \"<div class=\\\"container\\\"  > \\n   <div id=\\\"div\\\" [formGroup]=\\\"regForm\\\"><br><br>\\n        <input type=\\\"text\\\" placeholder=\\\"username\\\" formControlName=\\\"username\\\"><br>\\n       \\n        <br>\\n        <input type=\\\"text\\\" placeholder=\\\"password\\\" formControlName=\\\"password\\\"><br><br>\\n        <input type=\\\"text\\\" placeholder=\\\"phone\\\" formControlName=\\\"phone\\\"><br>\\n        <span>\\n            <i class=\\\"fa fa-check-square\\\" style=\\\"color:green\\\" *ngIf=\\\"(regForm.controls.phone.valid)&&(regForm.controls.phone.dirty)\\\"></i>\\n            <i class=\\\"fa fa-times-circle\\\" style=\\\"color:red\\\" *ngIf=\\\"regForm.controls.phone.invalid\\\"></i>\\n            phone should be 10 characters\\n            \\n        </span><br><br>\\n        <button class=\\\"btn btn-primary\\\" [disabled]=\\\"!regForm.valid\\\" (click)=\\\"register()\\\">Register</button><br><br>\\n    </div>\\n</div>\"","import { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  constructor(public db: AngularFirestore) {\n    this.db.collection('testing').valueChanges().subscribe((res)=>{\n      console.log(\"res\",res)\n    })\n  }\n  addUser(user){\n    user.usertype=\"pending\";\n    return this.db.collection('users').add(user);\n  }\n  login(user){\n    return this.db\n    .collection('users',ref=>ref.where('phone','==',user.phone))\n    .valueChanges();   \n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginComponent } from './login/login.component';\nimport { RegistrationComponent } from './registration/registration.component';\n\n\nconst routes: Routes = [\n  {\n    path:'',\n    component:LoginComponent\n  },\n  {\n    path:'register',\n    component:RegistrationComponent\n  }\n\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AuthenticationRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AuthenticationRoutingModule } from './authentication-routing.module';\nimport { LoginComponent } from './login/login.component';\nimport { RegistrationComponent } from './registration/registration.component';\n\n\n@NgModule({\n  declarations: [LoginComponent, RegistrationComponent],\n  imports: [\n    CommonModule,\n    AuthenticationRoutingModule,\n    FormsModule,ReactiveFormsModule\n  ]\n})\nexport class AuthenticationModule { }\n","export default \"#div{\\r\\n    background:rgba(0,0,0,0.8);\\r\\n    color:white;\\r\\n    margin-top: 100px;\\r\\n    text-align: center;\\r\\n    border-radius: 20px;\\r\\n   \\r\\n    \\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXV0aGVudGljYXRpb24vbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLDBCQUEwQjtJQUMxQixXQUFXO0lBQ1gsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixtQkFBbUI7OztBQUd2QiIsImZpbGUiOiJzcmMvYXBwL2F1dGhlbnRpY2F0aW9uL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjZGl2e1xyXG4gICAgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuOCk7XHJcbiAgICBjb2xvcjp3aGl0ZTtcclxuICAgIG1hcmdpbi10b3A6IDEwMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICAgXHJcbiAgICBcclxufVxyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../auth.service';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  constructor(public as:AuthService,public fb:FormBuilder,public router:Router){ \n    this.loginForm = this.fb.group({\n      phone:['',Validators.required],\n      password:['',Validators.required]\n    })\n  }\n  loginForm;\n  ngOnInit() {\n    var user = JSON.parse(localStorage.getItem('user'));\n    if(user){\n      if(user.usertype=='admin'){\n        this.router.navigate(['admin']);\n      }\n      if(user.usertype=='manager'){\n        this.router.navigate(['manager']);\n      }\n      if(user.usertype=='user'){\n        this.router.navigate(['user']);          \n      }      \n    }\n  }\n  \n  login(){\n    \n    \n    this.as.login(this.loginForm.value).subscribe((res:any[])=>{      \n      if(res){\n       \n        console.log(res.length);\n        console.log(res);\n        window.localStorage.setItem('user',JSON.stringify(res));\n        \n        \n        if(res.length == 0){\n\n          alert(\"Your Account is not Registered\");\n        \n\n        }\n\n        if(res[0].usertype=='pending'){\n          alert(\"Your account activation is still Pending!! please wait\")\n        }\n\n        if(res[0].usertype=='admin'){\n\n          if(this.loginForm.value.password==res[0].password){\n            this.router.navigate(['admin']);\n          }\n          else{\n            alert(\"password mismatch\");\n          }\n\n        }\n\n        if(res[0].usertype=='manager') \n        {\n          if(this.loginForm.value.password==res[0].password){\n            this.router.navigate(['manager']);\n          }\n          else{\n            alert(\"password mismatch\");\n          }\n        \n        }\n\n        if(res[0].usertype=='user')\n        {\n          if(this.loginForm.value.password==res[0].password){\n            this.router.navigate(['user']);     \n          }\n          else{\n            alert(\"password mismatch\");\n          }\n        \n        }\n\n\n        \n      }\n     \n        \n    })\n  }\n}\n","export default \"#div{\\r\\n    background:rgba(0,0,0,0.8);\\r\\n    color:white;\\r\\n    margin-top: 100px;\\r\\n    text-align: center;\\r\\n    border-radius: 20px;\\r\\n   \\r\\n    \\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXV0aGVudGljYXRpb24vcmVnaXN0cmF0aW9uL3JlZ2lzdHJhdGlvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksMEJBQTBCO0lBQzFCLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLG1CQUFtQjs7O0FBR3ZCIiwiZmlsZSI6InNyYy9hcHAvYXV0aGVudGljYXRpb24vcmVnaXN0cmF0aW9uL3JlZ2lzdHJhdGlvbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2RpdntcclxuICAgIGJhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjgpO1xyXG4gICAgY29sb3I6d2hpdGU7XHJcbiAgICBtYXJnaW4tdG9wOiAxMDBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbiAgIFxyXG4gICAgXHJcbn1cclxuIl19 */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { AuthService } from '../auth.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-registration',\n  templateUrl: './registration.component.html',\n  styleUrls: ['./registration.component.css']\n})\nexport class RegistrationComponent implements OnInit {\n  regForm;\n  constructor(public fb:FormBuilder,public as:AuthService,public router:Router) { \n    this.regForm = this.fb.group({\n      username:['',],\n      password:[''],\n      phone:['',[Validators.minLength(10),Validators.maxLength(10)],Validators.pattern[0-9]]\n    })\n  }\n  register(rf){\n    this.as.addUser(this.regForm.value).then((res)=>{\n      console.log(\"reg\",res);\n      \n      this.router.navigate([\"\"]);\n      \n      \n    });\n  }\n  ngOnInit() {\n  console.dir(this.regForm)\n  }\n\n}\n"],"sourceRoot":"webpack:///"}