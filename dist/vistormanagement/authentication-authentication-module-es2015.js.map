{"version":3,"sources":["./src/app/authentication/login/login.component.html","./src/app/authentication/registration/registration.component.html","./src/app/authentication/auth.service.ts","./src/app/authentication/authentication-routing.module.ts","./src/app/authentication/authentication.module.ts","./src/app/authentication/login/login.component.css","./src/app/authentication/login/login.component.ts","./src/app/authentication/registration/registration.component.css","./src/app/authentication/registration/registration.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,gkB;;;;;;;;;;;;ACAf;AAAe,k6B;;;;;;;;;;;;;;;;;;ACA4B;AACgB;AAK3D,IAAa,WAAW,GAAxB,MAAa,WAAW;IAEtB,YAAmB,EAAoB;QAApB,OAAE,GAAF,EAAE,CAAkB;QACrC,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,CAAC,GAAG,EAAC,EAAE;YAC5D,OAAO,CAAC,GAAG,CAAC,KAAK,EAAC,GAAG,CAAC;QACxB,CAAC,CAAC;IACJ,CAAC;IACD,OAAO,CAAC,IAAI;QACV,IAAI,CAAC,QAAQ,GAAC,SAAS,CAAC;QACxB,OAAO,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAC/C,CAAC;IACD,KAAK,CAAC,IAAI;QACR,OAAO,IAAI,CAAC,EAAE;aACb,UAAU,CAAC,OAAO,EAAC,GAAG,GAAE,IAAG,CAAC,KAAK,CAAC,OAAO,EAAC,IAAI,EAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC3D,YAAY,EAAE,CAAC;IAClB,CAAC;CACF;;YAdwB,wEAAgB;;AAF5B,WAAW;IAHvB,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,WAAW,CAgBvB;AAhBuB;;;;;;;;;;;;;;;;;;;;;ACNiB;AACc;AACE;AACqB;AAG9E,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAC,EAAE;QACP,SAAS,EAAC,qEAAc;KACzB;IACD;QACE,IAAI,EAAC,UAAU;QACf,SAAS,EAAC,0FAAqB;KAChC;CAEF,CAAC;AAMF,IAAa,2BAA2B,GAAxC,MAAa,2BAA2B;CAAI;AAA/B,2BAA2B;IAJvC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,2BAA2B,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;ACtBC;AACM;AACmB;AACY;AACrB;AACqB;AAW9E,IAAa,oBAAoB,GAAjC,MAAa,oBAAoB;CAAI;AAAxB,oBAAoB;IARhC,8DAAQ,CAAC;QACR,YAAY,EAAE,CAAC,qEAAc,EAAE,0FAAqB,CAAC;QACrD,OAAO,EAAE;YACP,4DAAY;YACZ,0FAA2B;YAC3B,0DAAW,EAAC,kEAAmB;SAChC;KACF,CAAC;GACW,oBAAoB,CAAI;AAAJ;;;;;;;;;;;;;AChBjC;AAAe,qEAAM,mCAAmC,oBAAoB,0BAA0B,2BAA2B,4BAA4B,oBAAoB,mDAAmD,2jB;;;;;;;;;;;;;;;;;;;;ACAlL;AACJ;AACW;AAChB;AAOzC,IAAa,cAAc,GAA3B,MAAa,cAAc;IAEzB,YAAmB,EAAc,EAAQ,EAAc,EAAQ,MAAa;QAAzD,OAAE,GAAF,EAAE,CAAY;QAAQ,OAAE,GAAF,EAAE,CAAY;QAAQ,WAAM,GAAN,MAAM,CAAO;QAC1E,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC7B,KAAK,EAAC,CAAC,EAAE,EAAC,yDAAU,CAAC,QAAQ,CAAC;YAC9B,QAAQ,EAAC,CAAC,EAAE,EAAC,yDAAU,CAAC,QAAQ,CAAC;SAClC,CAAC;IACJ,CAAC;IAED,QAAQ;QACN,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;QACpD,IAAG,IAAI,EAAC;YACN,IAAG,IAAI,CAAC,QAAQ,IAAE,OAAO,EAAC;gBACxB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;aACjC;YACD,IAAG,IAAI,CAAC,QAAQ,IAAE,SAAS,EAAC;gBAC1B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;aACnC;YACD,IAAG,IAAI,CAAC,QAAQ,IAAE,MAAM,EAAC;gBACvB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;aAChC;SACF;IACH,CAAC;IAED,KAAK;QAGH,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,GAAS,EAAC,EAAE;YACzD,IAAG,GAAG,EAAC;gBAEL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBACxB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,MAAM,EAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;gBAGxD,IAAG,GAAG,CAAC,MAAM,IAAI,CAAC,EAAC;oBAEjB,KAAK,CAAC,gCAAgC,CAAC,CAAC;iBAGzC;gBAED,IAAG,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAE,SAAS,EAAC;oBAC5B,KAAK,CAAC,wDAAwD,CAAC;iBAChE;gBAED,IAAG,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAE,OAAO,EAAC;oBAE1B,IAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAC;wBAChD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;qBACjC;yBACG;wBACF,KAAK,CAAC,mBAAmB,CAAC,CAAC;qBAC5B;iBAEF;gBAED,IAAG,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAE,SAAS,EAC7B;oBACE,IAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAC;wBAChD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;qBACnC;yBACG;wBACF,KAAK,CAAC,mBAAmB,CAAC,CAAC;qBAC5B;iBAEF;gBAED,IAAG,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAE,MAAM,EAC1B;oBACE,IAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,IAAE,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAC;wBAChD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;qBAChC;yBACG;wBACF,KAAK,CAAC,mBAAmB,CAAC,CAAC;qBAC5B;iBAEF;aAIF;QAGH,CAAC,CAAC;IACJ,CAAC;CACF;;YApFuB,yDAAW;YAAW,0DAAW;YAAe,sDAAM;;AAFjE,cAAc;IAL1B,+DAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,kOAAqC;;KAEtC,CAAC;GACW,cAAc,CAsF1B;AAtF0B;;;;;;;;;;;;;ACV3B;AAAe,qEAAM,mCAAmC,oBAAoB,0BAA0B,2BAA2B,4BAA4B,oBAAoB,mDAAmD,+lB;;;;;;;;;;;;;;;;;;;;ACAlL;AACO;AACX;AACL;AAOzC,IAAa,qBAAqB,GAAlC,MAAa,qBAAqB;IAEhC,YAAmB,EAAc,EAAQ,EAAc,EAAQ,MAAa;QAAzD,OAAE,GAAF,EAAE,CAAY;QAAQ,OAAE,GAAF,EAAE,CAAY;QAAQ,WAAM,GAAN,MAAM,CAAO;QAC1E,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YAC3B,QAAQ,EAAC,CAAC,EAAE,EAAE;YACd,QAAQ,EAAC,CAAC,EAAE,CAAC;YACb,KAAK,EAAC,CAAC,EAAE,EAAC,CAAC,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,EAAC,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,EAAC,yDAAU,CAAC,OAAO,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC;SACvF,CAAC;IACJ,CAAC;IACD,QAAQ,CAAC,EAAE;QACT,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAC,EAAE;YAC9C,OAAO,CAAC,GAAG,CAAC,KAAK,EAAC,GAAG,CAAC,CAAC;YAEvB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAG7B,CAAC,CAAC,CAAC;IACL,CAAC;IACD,QAAQ;QACR,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;IACzB,CAAC;CAEF;;YApBuB,0DAAW;YAAW,yDAAW;YAAe,sDAAM;;AAFjE,qBAAqB;IALjC,+DAAS,CAAC;QACT,QAAQ,EAAE,kBAAkB;QAC5B,uPAA4C;;KAE7C,CAAC;GACW,qBAAqB,CAsBjC;AAtBiC","file":"authentication-authentication-module-es2015.js","sourcesContent":["export default \"<div class=\\\"container\\\"  >\\n    <div id=\\\"div\\\">\\n        <a routerLink=\\\"register\\\">New User!! Register Here</a><br><br>\\n        <div [formGroup]=\\\"loginForm\\\">\\n            <input type=\\\"text\\\" formControlName=\\\"phone\\\" placeholder=\\\"Phone\\\"><br><br>\\n            <input type=\\\"text\\\" formControlName=\\\"password\\\" placeholder=\\\"Password\\\"><br><br>\\n            <button class=\\\"btn btn-primary\\\" [disabled]=\\\"!loginForm.valid\\\" (click)=\\\"login()\\\">Login</button><br><br>\\n        </div>\\n    </div>\\n</div>\\n\"","export default \"<div class=\\\"container\\\"  > \\n   <div id=\\\"div\\\" [formGroup]=\\\"regForm\\\"><br><br>\\n        <input type=\\\"text\\\" placeholder=\\\"username\\\" formControlName=\\\"username\\\"><br>\\n       \\n        <br>\\n        <input type=\\\"text\\\" placeholder=\\\"password\\\" formControlName=\\\"password\\\"><br><br>\\n        <input type=\\\"text\\\" placeholder=\\\"phone\\\" formControlName=\\\"phone\\\"><br>\\n        <span>\\n            <i class=\\\"fa fa-check-square\\\" style=\\\"color:green\\\" *ngIf=\\\"(regForm.controls.phone.valid)&&(regForm.controls.phone.dirty)\\\"></i>\\n            <i class=\\\"fa fa-times-circle\\\" style=\\\"color:red\\\" *ngIf=\\\"regForm.controls.phone.invalid\\\"></i>\\n            phone should be 10 characters\\n            \\n        </span><br><br>\\n        <button class=\\\"btn btn-primary\\\" [disabled]=\\\"!regForm.valid\\\" (click)=\\\"register()\\\">Register</button><br><br>\\n    </div>\\n</div>\"","import { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  constructor(public db: AngularFirestore) {\n    this.db.collection('testing').valueChanges().subscribe((res)=>{\n      console.log(\"res\",res)\n    })\n  }\n  addUser(user){\n    user.usertype=\"pending\";\n    return this.db.collection('users').add(user);\n  }\n  login(user){\n    return this.db\n    .collection('users',ref=>ref.where('phone','==',user.phone))\n    .valueChanges();   \n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginComponent } from './login/login.component';\nimport { RegistrationComponent } from './registration/registration.component';\n\n\nconst routes: Routes = [\n  {\n    path:'',\n    component:LoginComponent\n  },\n  {\n    path:'register',\n    component:RegistrationComponent\n  }\n\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AuthenticationRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AuthenticationRoutingModule } from './authentication-routing.module';\nimport { LoginComponent } from './login/login.component';\nimport { RegistrationComponent } from './registration/registration.component';\n\n\n@NgModule({\n  declarations: [LoginComponent, RegistrationComponent],\n  imports: [\n    CommonModule,\n    AuthenticationRoutingModule,\n    FormsModule,ReactiveFormsModule\n  ]\n})\nexport class AuthenticationModule { }\n","export default \"#div{\\r\\n    background:rgba(0,0,0,0.8);\\r\\n    color:white;\\r\\n    margin-top: 100px;\\r\\n    text-align: center;\\r\\n    border-radius: 20px;\\r\\n   \\r\\n    \\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXV0aGVudGljYXRpb24vbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLDBCQUEwQjtJQUMxQixXQUFXO0lBQ1gsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixtQkFBbUI7OztBQUd2QiIsImZpbGUiOiJzcmMvYXBwL2F1dGhlbnRpY2F0aW9uL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjZGl2e1xyXG4gICAgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuOCk7XHJcbiAgICBjb2xvcjp3aGl0ZTtcclxuICAgIG1hcmdpbi10b3A6IDEwMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICAgXHJcbiAgICBcclxufVxyXG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../auth.service';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  constructor(public as:AuthService,public fb:FormBuilder,public router:Router){ \n    this.loginForm = this.fb.group({\n      phone:['',Validators.required],\n      password:['',Validators.required]\n    })\n  }\n  loginForm;\n  ngOnInit() {\n    var user = JSON.parse(localStorage.getItem('user'));\n    if(user){\n      if(user.usertype=='admin'){\n        this.router.navigate(['admin']);\n      }\n      if(user.usertype=='manager'){\n        this.router.navigate(['manager']);\n      }\n      if(user.usertype=='user'){\n        this.router.navigate(['user']);          \n      }      \n    }\n  }\n  \n  login(){\n    \n    \n    this.as.login(this.loginForm.value).subscribe((res:any[])=>{      \n      if(res){\n       \n        console.log(res.length);\n        console.log(res);\n        window.localStorage.setItem('user',JSON.stringify(res));\n        \n        \n        if(res.length == 0){\n\n          alert(\"Your Account is not Registered\");\n        \n\n        }\n\n        if(res[0].usertype=='pending'){\n          alert(\"Your account activation is still Pending!! please wait\")\n        }\n\n        if(res[0].usertype=='admin'){\n\n          if(this.loginForm.value.password==res[0].password){\n            this.router.navigate(['admin']);\n          }\n          else{\n            alert(\"password mismatch\");\n          }\n\n        }\n\n        if(res[0].usertype=='manager') \n        {\n          if(this.loginForm.value.password==res[0].password){\n            this.router.navigate(['manager']);\n          }\n          else{\n            alert(\"password mismatch\");\n          }\n        \n        }\n\n        if(res[0].usertype=='user')\n        {\n          if(this.loginForm.value.password==res[0].password){\n            this.router.navigate(['user']);     \n          }\n          else{\n            alert(\"password mismatch\");\n          }\n        \n        }\n\n\n        \n      }\n     \n        \n    })\n  }\n}\n","export default \"#div{\\r\\n    background:rgba(0,0,0,0.8);\\r\\n    color:white;\\r\\n    margin-top: 100px;\\r\\n    text-align: center;\\r\\n    border-radius: 20px;\\r\\n   \\r\\n    \\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXV0aGVudGljYXRpb24vcmVnaXN0cmF0aW9uL3JlZ2lzdHJhdGlvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksMEJBQTBCO0lBQzFCLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLG1CQUFtQjs7O0FBR3ZCIiwiZmlsZSI6InNyYy9hcHAvYXV0aGVudGljYXRpb24vcmVnaXN0cmF0aW9uL3JlZ2lzdHJhdGlvbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2RpdntcclxuICAgIGJhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjgpO1xyXG4gICAgY29sb3I6d2hpdGU7XHJcbiAgICBtYXJnaW4tdG9wOiAxMDBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbiAgIFxyXG4gICAgXHJcbn1cclxuIl19 */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { AuthService } from '../auth.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-registration',\n  templateUrl: './registration.component.html',\n  styleUrls: ['./registration.component.css']\n})\nexport class RegistrationComponent implements OnInit {\n  regForm;\n  constructor(public fb:FormBuilder,public as:AuthService,public router:Router) { \n    this.regForm = this.fb.group({\n      username:['',],\n      password:[''],\n      phone:['',[Validators.minLength(10),Validators.maxLength(10)],Validators.pattern[0-9]]\n    })\n  }\n  register(rf){\n    this.as.addUser(this.regForm.value).then((res)=>{\n      console.log(\"reg\",res);\n      \n      this.router.navigate([\"\"]);\n      \n      \n    });\n  }\n  ngOnInit() {\n  console.dir(this.regForm)\n  }\n\n}\n"],"sourceRoot":"webpack:///"}